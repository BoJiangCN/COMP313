@model WeLinkUp.Models.CreateEvent

<head>


</head>
<html>
<body>
    <br />
    <br />
    <script src="~/js/daypilot/daypilot-all.min.js" asp-append-version="true"></script>

    <h1>
        Create Event page: CreateEvent Model is already created. Check Models Folder
    </h1>

    <!--This button is used to link to event summary page-->
    <a asp-controller="Event" asp-action="EventSummary">
        <input type="submit" value="View event summary"  />
    </a>

    <form id="createEvent" asp-action="CreateEvent" method="post">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="form-group">
            <label>Event title</label>
            <input asp-for="EventTitle" class="w3-input w3-border" />
            <span asp-validation-for="EventTitle" class="text-danger"></span>
        </div>
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="form-group">
            <label>Location</label>
            <input asp-for="Location" ID="" class="w3-input w3-border" />
            @*<asp:TextBox ID="txtLocation" runat="server"></asp:TextBox>*@
            @*<input asp-for="Location" id="txtLocation"   class="w3-input w3-border" />*@
            @*<label>Address</label>
            <asp:TextBox ID="txtAddress" runat="server"></asp:TextBox>*@
            <span asp-validation-for="Location" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label>Date</label>
            <input asp-for="Date" class="w3-input w3-border" />
            <span asp-validation-for="Date" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label>Start time</label>
            <input asp-for="StartTime" class="w3-input w3-border" />
            <span asp-validation-for="StartTime" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label>End time</label>
            <input asp-for="EndTime" class="w3-input w3-border" />
            <span asp-validation-for="EndTime" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label>Description</label>
            <input asp-for="Description" class="w3-input w3-border" />
            <span asp-validation-for="Description" class="text-danger"></span>
        </div>
        <div class="form-control">
            <label>Image</label>
            <input type="file" id="files" asp-for="Image" accept="image/*" class="w3-input w3-border" />
            <span asp-validation-for="ImageFile" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label>Is Adult only event?</label>
            <br />
            <label class="custom-checkbox">
                @*@Html.CheckBox("isAdultOnly", false)*@
                <input type="checkbox" name="isAdultOnlyChecked" value="true" />
                Yes
            </label>
        </div>
        <div class="form-group">
            <label>Is Adult only event?</label>
            <br />
            <label class="custom-radio">
                @*@Html.CheckBox("isAdultOnly", false)*@
                <input type="radio" asp-for="EventType" value="0" />Group Event
                <input type="radio" asp-for="EventType" value="1" />Personal Event
            </label>
        </div>
        <input type="submit" value="Add new event" />

    </form>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false&libraries=places&key=<API Key>"></script>
    <script type="text/javascript">
        google.maps.event.addDomListener(window, 'load', function () {
            var places = new google.maps.places.Autocomplete(document.getElementById('<%=txtLocation.ClientID %>'));
            google.maps.event.addListener(places, 'place_changed', function () {
                var place = places.getPlace();
                document.getElementById('<%=txtAddress.ClientID %>').value = place.formatted_address;
            });
        });
    </script>
    @*<div id="dp"></div>*@
    <!--script to load the calendar from daypilot library-->
    <script>
        var dp = new DayPilot.Month("dp");


        //Create new event:
        //dp.onTimeRangeSelected = function (args) {
        //    DayPilot.Modal.prompt("Create a new event:", "CreateEvent").then(function (modal) {
        //        var dp = args.control;
        //        dp.clearSelection();
        //        if (modal.canceled) {
        //            return;
        //        }
        //        var param = {
        //            eventTitle : args.eventTitle,
        //            location : args.location,
        //            startTime : args.startTime,
        //            endTime : args.endTime,
        //            description : args.description//,
        //            //isAdultOnly = args.isAdultOnly//,

        //        };
        //        DayPilot.Http.ajax({
        //            method: 'POST',
        //            url: '/createEvents',
        //            data: params,
        //            success: function (ajax) {
        //                console.log("created");
        //                var data = ajax.data;
        //                dp.events.add(data);
        //                dp.message("Event created");
        //            }
        //        });
        //    })
        //}

        //Load the existing events?
        //dp.events.load("createEvents"); //why "/api/events"?

        //Configuration
        dp.init();
    </script>

</body>
</html>